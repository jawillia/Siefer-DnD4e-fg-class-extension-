<?xml version="1.0" encoding="iso-8859-1"?>

<!-- 
  Please see the license.html file included with this distribution for 
  attribution and copyright information.
-->

<root>
  <windowclass name="charsheet_abilities" merge="join">
    <sheetdata>
      <list_charabilities name="specialabilities">
        <script>
          function onDrop(x, y, draginfo)
            if super and super.onDrop then
              super.onDrop(x, y, draginfo);
            end

            if draginfo.isType("shortcut") then
              local sClass, sRecord = draginfo.getShortcutData();
              if StringManager.startsWith(sRecord, "reference.classes") or StringManager.startsWith(sRecord, "class.id-") then
                return CharClassBuildDropManager.addInfoDB(DB.getParent(getDatabaseNode()), sClass, sRecord);
              end
            end
          end
        </script>
      </list_charabilities>
    </sheetdata>
  </windowclass>
</root>